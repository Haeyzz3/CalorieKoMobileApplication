package com.calorieko.app.data.local

import androidx.room.RoomDatabase
import androidx.sqlite.db.SupportSQLiteDatabase
import com.calorieko.app.data.model.FoodItem
import kotlinx.coroutines.CoroutineScope
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.launch

class FoodDatabaseCallback(
    private val scope: CoroutineScope,
    private val databaseProvider: () -> AppDatabase // Allows safe access to the database instance
) : RoomDatabase.Callback() {

    override fun onCreate(db: SupportSQLiteDatabase) {
        super.onCreate(db)
        databaseProvider().let { database ->
            scope.launch(Dispatchers.IO) {
                populateDatabase(database.foodDao())
            }
        }
    }
}

suspend fun populateDatabase(foodDao: FoodDao) {
    val dishes = listOf(
        // ── Lechon Manok (Roasted Chicken) ──────────────────────────
        FoodItem(
            nameEn = "Lechon Manok – Breast",
            namePh = "Lechon Manok – Dibdib",
            category = "Main Dish",
            caloriesPer100g = 195f,
            proteinPer100g = 29.8f,
            carbsPer100g = 0f,
            fiberPer100g = 0f,
            sugarPer100g = 0f,
            fatPer100g = 7.7f,
            saturatedFatPer100g = 2.2f,
            polyunsaturatedFatPer100g = 1.7f,
            monounsaturatedFatPer100g = 2.9f,
            transFatPer100g = 0.1f,
            cholesterolPer100g = 85f,
            sodiumPer100g = 370f,
            potassiumPer100g = 245f,
            vitaminAPer100g = 18f,
            vitaminCPer100g = 0f,
            calciumPer100g = 14f,
            ironPer100g = 1.1f
        ),
        FoodItem(
            nameEn = "Lechon Manok – Drumstick",
            namePh = "Lechon Manok – Binti",
            category = "Main Dish",
            caloriesPer100g = 214f,
            proteinPer100g = 26.3f,
            carbsPer100g = 0f,
            fiberPer100g = 0f,
            sugarPer100g = 0f,
            fatPer100g = 11.2f,
            saturatedFatPer100g = 3.1f,
            polyunsaturatedFatPer100g = 2.5f,
            monounsaturatedFatPer100g = 4.3f,
            transFatPer100g = 0.1f,
            cholesterolPer100g = 93f,
            sodiumPer100g = 385f,
            potassiumPer100g = 230f,
            vitaminAPer100g = 15f,
            vitaminCPer100g = 0f,
            calciumPer100g = 12f,
            ironPer100g = 1.3f
        ),
        FoodItem(
            nameEn = "Lechon Manok – Thigh",
            namePh = "Lechon Manok – Hita",
            category = "Main Dish",
            caloriesPer100g = 229f,
            proteinPer100g = 24.1f,
            carbsPer100g = 0f,
            fiberPer100g = 0f,
            sugarPer100g = 0f,
            fatPer100g = 14.3f,
            saturatedFatPer100g = 3.9f,
            polyunsaturatedFatPer100g = 3.1f,
            monounsaturatedFatPer100g = 5.4f,
            transFatPer100g = 0.1f,
            cholesterolPer100g = 105f,
            sodiumPer100g = 390f,
            potassiumPer100g = 222f,
            vitaminAPer100g = 20f,
            vitaminCPer100g = 0f,
            calciumPer100g = 11f,
            ironPer100g = 1.2f
        ),
        FoodItem(
            nameEn = "Lechon Manok – Wings",
            namePh = "Lechon Manok – Pakpak",
            category = "Main Dish",
            caloriesPer100g = 266f,
            proteinPer100g = 26.9f,
            carbsPer100g = 0f,
            fiberPer100g = 0f,
            sugarPer100g = 0f,
            fatPer100g = 17.2f,
            saturatedFatPer100g = 4.8f,
            polyunsaturatedFatPer100g = 3.7f,
            monounsaturatedFatPer100g = 6.9f,
            transFatPer100g = 0.1f,
            cholesterolPer100g = 113f,
            sodiumPer100g = 395f,
            potassiumPer100g = 210f,
            vitaminAPer100g = 16f,
            vitaminCPer100g = 0f,
            calciumPer100g = 13f,
            ironPer100g = 1.0f
        ),

        // ── Chicken Dishes ──────────────────────────────────────────
        FoodItem(
            nameEn = "Chicken Tinola",
            namePh = "Tinolang Manok",
            category = "Soup",
            caloriesPer100g = 68f,
            proteinPer100g = 7.5f,
            carbsPer100g = 3.8f,
            fiberPer100g = 0.5f,
            sugarPer100g = 0.9f,
            fatPer100g = 2.8f,
            saturatedFatPer100g = 0.8f,
            polyunsaturatedFatPer100g = 0.6f,
            monounsaturatedFatPer100g = 1.0f,
            transFatPer100g = 0f,
            cholesterolPer100g = 30f,
            sodiumPer100g = 420f,
            potassiumPer100g = 180f,
            vitaminAPer100g = 45f,
            vitaminCPer100g = 12f,
            calciumPer100g = 25f,
            ironPer100g = 0.8f
        ),

        // ── Vegetable Dishes ────────────────────────────────────────
        FoodItem(
            nameEn = "Chopsuey",
            namePh = "Chopsuey",
            category = "Vegetable Dish",
            caloriesPer100g = 78f,
            proteinPer100g = 4.2f,
            carbsPer100g = 7.5f,
            fiberPer100g = 1.8f,
            sugarPer100g = 2.6f,
            fatPer100g = 3.5f,
            saturatedFatPer100g = 0.7f,
            polyunsaturatedFatPer100g = 0.9f,
            monounsaturatedFatPer100g = 1.5f,
            transFatPer100g = 0f,
            cholesterolPer100g = 15f,
            sodiumPer100g = 480f,
            potassiumPer100g = 265f,
            vitaminAPer100g = 210f,
            vitaminCPer100g = 18f,
            calciumPer100g = 42f,
            ironPer100g = 1.5f
        ),
        FoodItem(
            nameEn = "Pinakbet",
            namePh = "Pinakbet",
            category = "Vegetable Dish",
            caloriesPer100g = 72f,
            proteinPer100g = 4.8f,
            carbsPer100g = 5.2f,
            fiberPer100g = 2.1f,
            sugarPer100g = 1.8f,
            fatPer100g = 3.6f,
            saturatedFatPer100g = 0.9f,
            polyunsaturatedFatPer100g = 0.8f,
            monounsaturatedFatPer100g = 1.4f,
            transFatPer100g = 0f,
            cholesterolPer100g = 10f,
            sodiumPer100g = 520f,
            potassiumPer100g = 290f,
            vitaminAPer100g = 185f,
            vitaminCPer100g = 22f,
            calciumPer100g = 55f,
            ironPer100g = 1.8f
        ),

        // ── Egg Dishes ──────────────────────────────────────────────
        FoodItem(
            nameEn = "Ampalaya with Egg",
            namePh = "Ginisang Ampalaya na may Itlog",
            category = "Vegetable Dish",
            caloriesPer100g = 95f,
            proteinPer100g = 6.2f,
            carbsPer100g = 4.5f,
            fiberPer100g = 1.3f,
            sugarPer100g = 1.0f,
            fatPer100g = 6.1f,
            saturatedFatPer100g = 1.7f,
            polyunsaturatedFatPer100g = 1.2f,
            monounsaturatedFatPer100g = 2.3f,
            transFatPer100g = 0f,
            cholesterolPer100g = 165f,
            sodiumPer100g = 350f,
            potassiumPer100g = 200f,
            vitaminAPer100g = 120f,
            vitaminCPer100g = 28f,
            calciumPer100g = 38f,
            ironPer100g = 1.6f
        ),
        FoodItem(
            nameEn = "Boiled Egg",
            namePh = "Nilagang Itlog",
            category = "Egg",
            caloriesPer100g = 155f,
            proteinPer100g = 12.6f,
            carbsPer100g = 1.1f,
            fiberPer100g = 0f,
            sugarPer100g = 1.1f,
            fatPer100g = 10.6f,
            saturatedFatPer100g = 3.3f,
            polyunsaturatedFatPer100g = 1.4f,
            monounsaturatedFatPer100g = 4.1f,
            transFatPer100g = 0f,
            cholesterolPer100g = 373f,
            sodiumPer100g = 124f,
            potassiumPer100g = 126f,
            vitaminAPer100g = 149f,
            vitaminCPer100g = 0f,
            calciumPer100g = 50f,
            ironPer100g = 1.2f
        ),
        FoodItem(
            nameEn = "Fried Egg",
            namePh = "Pritong Itlog",
            category = "Egg",
            caloriesPer100g = 196f,
            proteinPer100g = 13.6f,
            carbsPer100g = 0.8f,
            fiberPer100g = 0f,
            sugarPer100g = 0.4f,
            fatPer100g = 15.3f,
            saturatedFatPer100g = 4.3f,
            polyunsaturatedFatPer100g = 2.8f,
            monounsaturatedFatPer100g = 5.9f,
            transFatPer100g = 0.1f,
            cholesterolPer100g = 401f,
            sodiumPer100g = 207f,
            potassiumPer100g = 152f,
            vitaminAPer100g = 180f,
            vitaminCPer100g = 0f,
            calciumPer100g = 48f,
            ironPer100g = 1.5f
        ),
        FoodItem(
            nameEn = "Sunny Side Up Egg",
            namePh = "Itlog na Sunny Side Up",
            category = "Egg",
            caloriesPer100g = 190f,
            proteinPer100g = 13.0f,
            carbsPer100g = 0.9f,
            fiberPer100g = 0f,
            sugarPer100g = 0.5f,
            fatPer100g = 14.8f,
            saturatedFatPer100g = 4.1f,
            polyunsaturatedFatPer100g = 2.6f,
            monounsaturatedFatPer100g = 5.7f,
            transFatPer100g = 0.1f,
            cholesterolPer100g = 395f,
            sodiumPer100g = 195f,
            potassiumPer100g = 148f,
            vitaminAPer100g = 175f,
            vitaminCPer100g = 0f,
            calciumPer100g = 45f,
            ironPer100g = 1.4f
        ),

        // ── Fish Dishes ─────────────────────────────────────────────
        FoodItem(
            nameEn = "Grilled Galunggong",
            namePh = "Inihaw na Galunggong",
            category = "Fish",
            caloriesPer100g = 132f,
            proteinPer100g = 22.5f,
            carbsPer100g = 0f,
            fiberPer100g = 0f,
            sugarPer100g = 0f,
            fatPer100g = 4.5f,
            saturatedFatPer100g = 1.2f,
            polyunsaturatedFatPer100g = 1.4f,
            monounsaturatedFatPer100g = 1.3f,
            transFatPer100g = 0f,
            cholesterolPer100g = 55f,
            sodiumPer100g = 310f,
            potassiumPer100g = 340f,
            vitaminAPer100g = 25f,
            vitaminCPer100g = 0f,
            calciumPer100g = 60f,
            ironPer100g = 1.8f
        ),
        FoodItem(
            nameEn = "Kinilaw na Tuna",
            namePh = "Kinilaw na Tuna",
            category = "Fish",
            caloriesPer100g = 108f,
            proteinPer100g = 20.1f,
            carbsPer100g = 3.2f,
            fiberPer100g = 0.3f,
            sugarPer100g = 1.0f,
            fatPer100g = 1.5f,
            saturatedFatPer100g = 0.4f,
            polyunsaturatedFatPer100g = 0.5f,
            monounsaturatedFatPer100g = 0.3f,
            transFatPer100g = 0f,
            cholesterolPer100g = 40f,
            sodiumPer100g = 450f,
            potassiumPer100g = 310f,
            vitaminAPer100g = 30f,
            vitaminCPer100g = 6f,
            calciumPer100g = 18f,
            ironPer100g = 1.0f
        ),
        FoodItem(
            nameEn = "Fried Mackerel",
            namePh = "Pritong Alumahan",
            category = "Fish",
            caloriesPer100g = 262f,
            proteinPer100g = 19.3f,
            carbsPer100g = 3.5f,
            fiberPer100g = 0f,
            sugarPer100g = 0f,
            fatPer100g = 19.1f,
            saturatedFatPer100g = 4.5f,
            polyunsaturatedFatPer100g = 5.2f,
            monounsaturatedFatPer100g = 7.8f,
            transFatPer100g = 0.1f,
            cholesterolPer100g = 72f,
            sodiumPer100g = 360f,
            potassiumPer100g = 280f,
            vitaminAPer100g = 40f,
            vitaminCPer100g = 0f,
            calciumPer100g = 15f,
            ironPer100g = 1.4f
        ),
        FoodItem(
            nameEn = "Fried Milkfish",
            namePh = "Pritong Bangus",
            category = "Fish",
            caloriesPer100g = 217f,
            proteinPer100g = 21.0f,
            carbsPer100g = 1.2f,
            fiberPer100g = 0f,
            sugarPer100g = 0f,
            fatPer100g = 14.0f,
            saturatedFatPer100g = 3.5f,
            polyunsaturatedFatPer100g = 3.8f,
            monounsaturatedFatPer100g = 5.2f,
            transFatPer100g = 0.1f,
            cholesterolPer100g = 65f,
            sodiumPer100g = 330f,
            potassiumPer100g = 295f,
            vitaminAPer100g = 35f,
            vitaminCPer100g = 0f,
            calciumPer100g = 50f,
            ironPer100g = 1.3f
        ),
        FoodItem(
            nameEn = "Pesang Bangus",
            namePh = "Pesang Bangus",
            category = "Soup",
            caloriesPer100g = 75f,
            proteinPer100g = 9.8f,
            carbsPer100g = 3.0f,
            fiberPer100g = 0.6f,
            sugarPer100g = 0.8f,
            fatPer100g = 2.5f,
            saturatedFatPer100g = 0.7f,
            polyunsaturatedFatPer100g = 0.7f,
            monounsaturatedFatPer100g = 0.8f,
            transFatPer100g = 0f,
            cholesterolPer100g = 28f,
            sodiumPer100g = 380f,
            potassiumPer100g = 260f,
            vitaminAPer100g = 30f,
            vitaminCPer100g = 10f,
            calciumPer100g = 35f,
            ironPer100g = 0.9f
        ),
        FoodItem(
            nameEn = "Fried Tilapia",
            namePh = "Pritong Tilapya",
            category = "Fish",
            caloriesPer100g = 189f,
            proteinPer100g = 24.5f,
            carbsPer100g = 2.8f,
            fiberPer100g = 0f,
            sugarPer100g = 0f,
            fatPer100g = 8.9f,
            saturatedFatPer100g = 2.2f,
            polyunsaturatedFatPer100g = 2.0f,
            monounsaturatedFatPer100g = 3.5f,
            transFatPer100g = 0.1f,
            cholesterolPer100g = 60f,
            sodiumPer100g = 340f,
            potassiumPer100g = 310f,
            vitaminAPer100g = 20f,
            vitaminCPer100g = 0f,
            calciumPer100g = 45f,
            ironPer100g = 1.1f
        ),
        FoodItem(
            nameEn = "Ginisang Tinapa",
            namePh = "Ginisang Tinapa",
            category = "Fish",
            caloriesPer100g = 185f,
            proteinPer100g = 18.7f,
            carbsPer100g = 4.2f,
            fiberPer100g = 0.5f,
            sugarPer100g = 1.5f,
            fatPer100g = 10.5f,
            saturatedFatPer100g = 2.5f,
            polyunsaturatedFatPer100g = 2.8f,
            monounsaturatedFatPer100g = 3.9f,
            transFatPer100g = 0.1f,
            cholesterolPer100g = 58f,
            sodiumPer100g = 510f,
            potassiumPer100g = 250f,
            vitaminAPer100g = 35f,
            vitaminCPer100g = 4f,
            calciumPer100g = 70f,
            ironPer100g = 2.0f
        ),

        // ── Meat Dishes ─────────────────────────────────────────────
        FoodItem(
            nameEn = "Menudo",
            namePh = "Menudo",
            category = "Main Dish",
            caloriesPer100g = 138f,
            proteinPer100g = 10.5f,
            carbsPer100g = 7.2f,
            fiberPer100g = 0.9f,
            sugarPer100g = 2.5f,
            fatPer100g = 7.8f,
            saturatedFatPer100g = 2.4f,
            polyunsaturatedFatPer100g = 1.1f,
            monounsaturatedFatPer100g = 3.2f,
            transFatPer100g = 0.1f,
            cholesterolPer100g = 45f,
            sodiumPer100g = 550f,
            potassiumPer100g = 270f,
            vitaminAPer100g = 110f,
            vitaminCPer100g = 8f,
            calciumPer100g = 22f,
            ironPer100g = 1.5f
        ),
        FoodItem(
            nameEn = "Sinuglaw Pork",
            namePh = "Sinuglaw na Baboy",
            category = "Main Dish",
            caloriesPer100g = 145f,
            proteinPer100g = 14.2f,
            carbsPer100g = 5.8f,
            fiberPer100g = 0.4f,
            sugarPer100g = 1.8f,
            fatPer100g = 7.5f,
            saturatedFatPer100g = 2.3f,
            polyunsaturatedFatPer100g = 1.0f,
            monounsaturatedFatPer100g = 3.2f,
            transFatPer100g = 0f,
            cholesterolPer100g = 48f,
            sodiumPer100g = 470f,
            potassiumPer100g = 240f,
            vitaminAPer100g = 25f,
            vitaminCPer100g = 8f,
            calciumPer100g = 20f,
            ironPer100g = 1.2f
        ),
        FoodItem(
            nameEn = "Pork Sinigang",
            namePh = "Sinigang na Baboy",
            category = "Soup",
            caloriesPer100g = 120f,
            proteinPer100g = 7.5f,
            carbsPer100g = 5.5f,
            fiberPer100g = 1.2f,
            sugarPer100g = 1.5f,
            fatPer100g = 7.2f,
            saturatedFatPer100g = 2.3f,
            polyunsaturatedFatPer100g = 0.9f,
            monounsaturatedFatPer100g = 3.0f,
            transFatPer100g = 0.1f,
            cholesterolPer100g = 30f,
            sodiumPer100g = 400f,
            potassiumPer100g = 230f,
            vitaminAPer100g = 55f,
            vitaminCPer100g = 15f,
            calciumPer100g = 30f,
            ironPer100g = 1.0f
        ),

        // ── Rice ─────────────────────────────────────────────────────
        FoodItem(
            nameEn = "Well-Milled Rice",
            namePh = "Bigas na Puti",
            category = "Rice",
            caloriesPer100g = 130f,
            proteinPer100g = 2.7f,
            carbsPer100g = 28.2f,
            fiberPer100g = 0.4f,
            sugarPer100g = 0.1f,
            fatPer100g = 0.3f,
            saturatedFatPer100g = 0.1f,
            polyunsaturatedFatPer100g = 0.1f,
            monounsaturatedFatPer100g = 0.1f,
            transFatPer100g = 0f,
            cholesterolPer100g = 0f,
            sodiumPer100g = 1f,
            potassiumPer100g = 35f,
            vitaminAPer100g = 0f,
            vitaminCPer100g = 0f,
            calciumPer100g = 10f,
            ironPer100g = 0.2f
        ),

        // ── Street Food / Others ────────────────────────────────────
        FoodItem(
            nameEn = "Tokneneng with Salad",
            namePh = "Tokneneng na may Ensalada",
            category = "Street Food",
            caloriesPer100g = 220f,
            proteinPer100g = 10.8f,
            carbsPer100g = 18.5f,
            fiberPer100g = 0.5f,
            sugarPer100g = 1.2f,
            fatPer100g = 12.0f,
            saturatedFatPer100g = 3.0f,
            polyunsaturatedFatPer100g = 2.6f,
            monounsaturatedFatPer100g = 4.5f,
            transFatPer100g = 0.1f,
            cholesterolPer100g = 250f,
            sodiumPer100g = 430f,
            potassiumPer100g = 150f,
            vitaminAPer100g = 95f,
            vitaminCPer100g = 3f,
            calciumPer100g = 40f,
            ironPer100g = 1.5f
        ),
        FoodItem(
            nameEn = "Udong",
            namePh = "Udong",
            category = "Noodles",
            caloriesPer100g = 140f,
            proteinPer100g = 5.0f,
            carbsPer100g = 25.5f,
            fiberPer100g = 1.0f,
            sugarPer100g = 0.8f,
            fatPer100g = 1.8f,
            saturatedFatPer100g = 0.4f,
            polyunsaturatedFatPer100g = 0.5f,
            monounsaturatedFatPer100g = 0.6f,
            transFatPer100g = 0f,
            cholesterolPer100g = 5f,
            sodiumPer100g = 520f,
            potassiumPer100g = 55f,
            vitaminAPer100g = 0f,
            vitaminCPer100g = 0f,
            calciumPer100g = 12f,
            ironPer100g = 0.8f
        )
    )

    foodDao.insertAll(dishes)
}